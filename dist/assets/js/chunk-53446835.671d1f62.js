(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53446835"],{"2d2d":function(e,t,r){"use strict";var o=r("d862"),s=r.n(o);s.a},d5c2:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a-card",{staticClass:"login-form-layout"},[r("a-form-model",{ref:"registerForm",attrs:{model:e.registerForm,rules:e.registerRules,"label-position":"left",autoComplete:"on"}},[r("h2",{staticClass:"login-title"},[e._v("注册")]),r("a-form-model-item",{attrs:{"has-feedback":"",prop:"username"}},[r("a-input",{attrs:{type:"text",placeholder:"请输入帐号",autoComplete:"on"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}},[r("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),r("a-form-model-item",{attrs:{"has-feedback":"",prop:"oldPassword"}},[r("a-input",{attrs:{type:e.oldPwdType,placeholder:"请输入密码",autoComplete:"on"},model:{value:e.registerForm.oldPassword,callback:function(t){e.$set(e.registerForm,"oldPassword",t)},expression:"registerForm.oldPassword"}},[r("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"}),r("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"suffix",type:"eye"},on:{click:e.showOldPwd},slot:"suffix"})],1)],1),r("a-form-model-item",{attrs:{"has-feedback":"",prop:"newPassword"}},[r("a-input",{attrs:{type:e.newPwdType,placeholder:"请再次输入密码",autoComplete:"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.newPassword,callback:function(t){e.$set(e.registerForm,"newPassword",t)},expression:"registerForm.newPassword"}},[r("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"}),r("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"suffix",type:"eye"},on:{click:e.showNewPwd},slot:"suffix"})],1)],1),r("a-form-model-item",{attrs:{"has-feedback":"",prop:"email"}},[r("a-input",{attrs:{type:"text",placeholder:"请输入邮箱地址",autoComplete:"on"},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}},[r("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"mail"},slot:"prefix"})],1)],1),r("a-form-model-item",{attrs:{"has-feedback":"",prop:"code"}},[r("a-input",{attrs:{type:"text",placeholder:"请输入邮箱验证码",autoComplete:"on"},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}},[r("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"codepen"},slot:"prefix"}),r("a-button",{staticStyle:{color:"#564695 !important"},attrs:{slot:"suffix",type:"link"},nativeOn:{click:function(t){return t.preventDefault(),e.sendEmail(t)}},slot:"suffix"},[e._v("获取验证码")])],1)],1),r("a-form-model-item",{staticStyle:{"margin-bottom":"60px","text-align":"center"}},[r("a-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e._v("\n\t\t\t\t\t注册\n\t\t\t\t")]),r("a-button",{staticStyle:{width:"100%"},attrs:{type:"default"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("\n\t\t\t\t\t已有账号\n\t\t\t\t")])],1)],1)],1)],1)},s=[],a={name:"register",data:function(){var e=this,t=function(e,t,r){validUsername(t)?r():r(new Error("请输入正确的用户名"))},r=function(e,t,r){validPassword(t)?r():r(new Error("密码为同时含有大小写字母、数字的8-16位组合"))},o=function(t,r,o){r!=e.registerForm.oldPassword?o(new Error("两次输入的密码不一致")):""===r?o(new Error("密码为同时含有大小写字母、数字的8-16位组合")):o()},s=function(e,t,r){validEmail(t)?r():r(new Error("请输入正确的邮箱地址"))},a=function(e,t,r){6!=t.length?r(new Error("请输入6位验证码")):r()};return{receiver:"",registerForm:{username:"",oldPassword:"",newPassword:"",email:"",code:""},registerRules:{username:[{required:!0,trigger:"blur",validator:t}],oldPassword:[{required:!0,trigger:"blur",validator:r}],newPassword:[{required:!0,trigger:"blur",validator:o}],email:[{required:!0,trigger:"blur",validator:s}],code:[{required:!0,trigger:"blur",validator:a}]},loading:!1,oldPwdType:"password",newPwdType:"password"}},methods:{showOldPwd:function(){"password"===this.oldPwdType?this.oldPwdType="":this.oldPwdType="password"},showNewPwd:function(){"password"===this.newPwdType?this.newPwdType="":this.newPwdType="password"},sendEmail:function(){var e=this;validEmail(this.registerForm.email)?new Promise(function(t,r){verify(e.registerForm.email).then(function(){t()}).catch(function(e){r(e)})}).then(function(){e.$message.success({content:"发送邮件成功",duration:3})}):this.$message.error({content:"请先输入正确的邮箱地址",duration:3})},handleRegister:function(){var e=this;this.$refs.registerForm.validate(function(t){if(!t)return!1;e.loading=!0,new Promise(function(t,r){register(e.registerForm.username,e.registerForm.oldPassword,e.registerForm.code,e.registerForm.email).then(function(){t()}).catch(function(e){r(e)})}).then(function(){e.loading=!1,setCookie("username",e.registerForm.username,15),setCookie("password",e.registerForm.oldPassword,15),e.$message.success({content:"注册成功",duration:3})}).catch(function(){e.loading=!1})})},handleLogin:function(){this.$router.push({path:"/login"})}}},i=a,n=(r("2d2d"),r("2877")),l=Object(n["a"])(i,o,s,!1,null,"0f2b1adb",null);t["default"]=l.exports},d862:function(e,t,r){}}]);
//# sourceMappingURL=chunk-53446835.671d1f62.js.map